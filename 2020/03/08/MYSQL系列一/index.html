<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Mysql系列 | 归宿|观塘礼</title><meta name="description" content="Mysql系列"><meta name="keywords" content="sql"><meta name="author" content="caspar"><meta name="copyright" content="caspar"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/fly.png"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Mysql系列"><meta name="twitter:description" content="Mysql系列"><meta name="twitter:image" content="http://yoursite.com/img/2.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Mysql系列"><meta property="og:url" content="http://yoursite.com/2020/03/08/MYSQL%E7%B3%BB%E5%88%97%E4%B8%80/"><meta property="og:site_name" content="归宿|观塘礼"><meta property="og:description" content="Mysql系列"><meta property="og:image" content="http://yoursite.com/img/2.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'true'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2020/03/08/MYSQL%E7%B3%BB%E5%88%97%E4%B8%80/"><link rel="prev" title="Hexo+github搭建个人博客" href="http://yoursite.com/2020/03/08/Hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"><link rel="next" title="Hello World" href="http://yoursite.com/2020/03/07/hello-world/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: {"text":"富强,民主,文明,和谐,自由,平等,公正,法治,爱国,敬业,诚信,友善","fontSize":"15px"},
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">归宿|观塘礼</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis"><i class="fa-fw fa fa-film"></i><span> 番剧</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 清单</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://i.postimg.cc/v853PHyq/IMG-2643-20200224-014611.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">8</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">6</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">5</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis"><i class="fa-fw fa fa-film"></i><span> 番剧</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 清单</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Mysql数据库"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Mysql数据库</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#数据库优点："><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">数据库优点：</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#常见数据库产品"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">常见数据库产品</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#数据库相关概念"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">数据库相关概念</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#DB："><span class="toc_mobile_items-number">1.3.1.</span> <span class="toc_mobile_items-text">DB：</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#DBMS："><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">DBMS：</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#SQL"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">*SQL: *</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#数据库存储数据的特点"><span class="toc_mobile_items-number">1.6.</span> <span class="toc_mobile_items-text">数据库存储数据的特点</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#mysql数据库"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">*mysql数据库 *#</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#mysql优点"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">mysql优点</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#mysql常见命令"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">mysql常见命令</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#mysql语法规范"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">mysql语法规范</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#sql语句分类"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text">sql语句分类</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#DQL语言学习"><span class="toc_mobile_items-number">2.5.</span> <span class="toc_mobile_items-text">DQL语言学习</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#进阶1：基础查询"><span class="toc_mobile_items-number">2.6.</span> <span class="toc_mobile_items-text">进阶1：基础查询</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#基础查询中经常使用到的语句"><span class="toc_mobile_items-number">2.6.1.</span> <span class="toc_mobile_items-text">基础查询中经常使用到的语句</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#进阶2：条件查询"><span class="toc_mobile_items-number">2.7.</span> <span class="toc_mobile_items-text">进阶2：条件查询</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#条件查询分类"><span class="toc_mobile_items-number">2.8.</span> <span class="toc_mobile_items-text">条件查询分类</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#复习"><span class="toc_mobile_items-number">2.9.</span> <span class="toc_mobile_items-text">复习</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#进阶3：排序查询"><span class="toc_mobile_items-number">2.10.</span> <span class="toc_mobile_items-text">进阶3：排序查询</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#进阶4常见函数"><span class="toc_mobile_items-number">2.11.</span> <span class="toc_mobile_items-text">进阶4常见函数</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#大小写转换函数"><span class="toc_mobile_items-number">2.11.1.</span> <span class="toc_mobile_items-text">大小写转换函数</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#数学函数"><span class="toc_mobile_items-number">2.12.</span> <span class="toc_mobile_items-text">数学函数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#日期函数"><span class="toc_mobile_items-number">2.13.</span> <span class="toc_mobile_items-text">日期函数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#其他函数"><span class="toc_mobile_items-number">2.14.</span> <span class="toc_mobile_items-text">其他函数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#流程控制函数"><span class="toc_mobile_items-number">2.15.</span> <span class="toc_mobile_items-text">流程控制函数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#case函数"><span class="toc_mobile_items-number">2.16.</span> <span class="toc_mobile_items-text">case函数</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#函数案例"><span class="toc_mobile_items-number">2.16.1.</span> <span class="toc_mobile_items-text">函数案例</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#分组函数"><span class="toc_mobile_items-number">2.16.2.</span> <span class="toc_mobile_items-text">分组函数</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#常见分组函数"><span class="toc_mobile_items-number">2.16.2.0.1.</span> <span class="toc_mobile_items-text">常见分组函数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#分组函数的简单使用"><span class="toc_mobile_items-number">2.16.2.0.2.</span> <span class="toc_mobile_items-text">分组函数的简单使用</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#分组函数中的参数支持那种类型"><span class="toc_mobile_items-number">2.16.2.0.3.</span> <span class="toc_mobile_items-text">分组函数中的参数支持那种类型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#分组函数案例"><span class="toc_mobile_items-number">2.16.2.0.4.</span> <span class="toc_mobile_items-text">分组函数案例</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#进阶5分组查询"><span class="toc_mobile_items-number">2.17.</span> <span class="toc_mobile_items-text">进阶5分组查询</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#一、sql92标准"><span class="toc_mobile_items-number">2.18.</span> <span class="toc_mobile_items-text">一、sql92标准</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#二、sql99语法"><span class="toc_mobile_items-number">2.19.</span> <span class="toc_mobile_items-text">二、sql99语法</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Mysql数据库"><span class="toc-number">1.</span> <span class="toc-text">Mysql数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库优点："><span class="toc-number">1.1.</span> <span class="toc-text">数据库优点：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常见数据库产品"><span class="toc-number">1.2.</span> <span class="toc-text">常见数据库产品</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库相关概念"><span class="toc-number">1.3.</span> <span class="toc-text">数据库相关概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DB："><span class="toc-number">1.3.1.</span> <span class="toc-text">DB：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DBMS："><span class="toc-number">1.4.</span> <span class="toc-text">DBMS：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL"><span class="toc-number">1.5.</span> <span class="toc-text">*SQL: *</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库存储数据的特点"><span class="toc-number">1.6.</span> <span class="toc-text">数据库存储数据的特点</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql数据库"><span class="toc-number">2.</span> <span class="toc-text">*mysql数据库 *#</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql优点"><span class="toc-number">2.1.</span> <span class="toc-text">mysql优点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql常见命令"><span class="toc-number">2.2.</span> <span class="toc-text">mysql常见命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql语法规范"><span class="toc-number">2.3.</span> <span class="toc-text">mysql语法规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql语句分类"><span class="toc-number">2.4.</span> <span class="toc-text">sql语句分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DQL语言学习"><span class="toc-number">2.5.</span> <span class="toc-text">DQL语言学习</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进阶1：基础查询"><span class="toc-number">2.6.</span> <span class="toc-text">进阶1：基础查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基础查询中经常使用到的语句"><span class="toc-number">2.6.1.</span> <span class="toc-text">基础查询中经常使用到的语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进阶2：条件查询"><span class="toc-number">2.7.</span> <span class="toc-text">进阶2：条件查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#条件查询分类"><span class="toc-number">2.8.</span> <span class="toc-text">条件查询分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#复习"><span class="toc-number">2.9.</span> <span class="toc-text">复习</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进阶3：排序查询"><span class="toc-number">2.10.</span> <span class="toc-text">进阶3：排序查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进阶4常见函数"><span class="toc-number">2.11.</span> <span class="toc-text">进阶4常见函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#大小写转换函数"><span class="toc-number">2.11.1.</span> <span class="toc-text">大小写转换函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数学函数"><span class="toc-number">2.12.</span> <span class="toc-text">数学函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#日期函数"><span class="toc-number">2.13.</span> <span class="toc-text">日期函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他函数"><span class="toc-number">2.14.</span> <span class="toc-text">其他函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#流程控制函数"><span class="toc-number">2.15.</span> <span class="toc-text">流程控制函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#case函数"><span class="toc-number">2.16.</span> <span class="toc-text">case函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#函数案例"><span class="toc-number">2.16.1.</span> <span class="toc-text">函数案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分组函数"><span class="toc-number">2.16.2.</span> <span class="toc-text">分组函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#常见分组函数"><span class="toc-number">2.16.2.0.1.</span> <span class="toc-text">常见分组函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#分组函数的简单使用"><span class="toc-number">2.16.2.0.2.</span> <span class="toc-text">分组函数的简单使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#分组函数中的参数支持那种类型"><span class="toc-number">2.16.2.0.3.</span> <span class="toc-text">分组函数中的参数支持那种类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#分组函数案例"><span class="toc-number">2.16.2.0.4.</span> <span class="toc-text">分组函数案例</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进阶5分组查询"><span class="toc-number">2.17.</span> <span class="toc-text">进阶5分组查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一、sql92标准"><span class="toc-number">2.18.</span> <span class="toc-text">一、sql92标准</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、sql99语法"><span class="toc-number">2.19.</span> <span class="toc-text">二、sql99语法</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(/img/2.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">Mysql系列</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-03-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-03-09</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/sql/">sql</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="Mysql数据库"><a href="#Mysql数据库" class="headerlink" title="Mysql数据库"></a><strong>Mysql数据库</strong></h1><h2 id="数据库优点："><a href="#数据库优点：" class="headerlink" title="数据库优点："></a><strong>数据库优点：</strong></h2><blockquote>
<ol>
<li>可持久化数据</li>
<li>可存储大量数据</li>
<li>方便检索</li>
<li>数据一致性、完整性</li>
<li>安全性、可共享性</li>
<li>可通过组合查询产生新的数据</li>
</ol>
</blockquote>
<h2 id="常见数据库产品"><a href="#常见数据库产品" class="headerlink" title="常见数据库产品"></a><strong>常见数据库产品</strong></h2><blockquote>
<ol>
<li>orcal | 甲骨文 流行度低、服务收费</li>
<li>DB2   | IBM   兼容性不如mysql</li>
<li>sqlsever |    版本只支持windows系统</li>
<li>Mysql | 甲骨文 </li>
</ol>
</blockquote>
<h2 id="数据库相关概念"><a href="#数据库相关概念" class="headerlink" title="数据库相关概念"></a><strong>数据库相关概念</strong></h2><h3 id="DB："><a href="#DB：" class="headerlink" title="DB："></a><strong>DB：</strong></h3><pre><code>数据库：保存一系列有组织的数据</code></pre><h2 id="DBMS："><a href="#DBMS：" class="headerlink" title="DBMS："></a><strong>DBMS：</strong></h2><pre><code>数据库管理系统：是我们常说的数据库，数据库通过DBMS创建和操作的容器</code></pre><h2 id="SQL"><a href="#SQL" class="headerlink" title="*SQL: *"></a>*<em>SQL: *</em></h2><pre><code>结构化查询语言,对数据库进行进行操作的语句</code></pre><h2 id="数据库存储数据的特点"><a href="#数据库存储数据的特点" class="headerlink" title="数据库存储数据的特点"></a><strong>数据库存储数据的特点</strong></h2><pre><code>1、数据存放在表中，表存放在库中
2、一个数据库中可以有多张表，每个表都有自己的名字，表名是具有唯一性的
3、表是由列组成的，每个表中都有相应的表头也就是字段，字段都有相应的类型</code></pre><h1 id="mysql数据库"><a href="#mysql数据库" class="headerlink" title="*mysql数据库 *#"></a>*<em>mysql数据库 *</em>#</h1><pre><code>mysql是开源的关系型数据库是c/s结构</code></pre><h2 id="mysql优点"><a href="#mysql优点" class="headerlink" title="mysql优点"></a><strong>mysql优点</strong></h2><pre><code>1、成本低
2、性能高</code></pre><h2 id="mysql常见命令"><a href="#mysql常见命令" class="headerlink" title="mysql常见命令"></a><strong>mysql常见命令</strong></h2><pre><code>1、查看当前所在库
select database（）；
2、查看表结构
desc 表名
3、查看mysql版本
方式一：
进入到mysql客户端
select version（）；
方式二：
没有进入到mysql客户端（cmd中）
mysql -v
4、查看所有数据库
show databases;
5、查看当前库中所有表
show tables;
6、从当前库中查看其它库中的所有表
select tables from 数据库名称
7.创建表
create table 表名（
    列名 类型
）；</code></pre><h2 id="mysql语法规范"><a href="#mysql语法规范" class="headerlink" title="mysql语法规范"></a><strong>mysql语法规范</strong></h2><pre><code>1.在mysql中不区分大小写，但建议关键字（SHOW、SELECT等）大写、表名、列名小写
2.每一条命令用分号结尾
3.每条命令根据需要可进行缩进或换行
4.注释
    单行注释：#注释文字
    单行注释：-- 注释文字
    多行注释：/*注释文字 */</code></pre><h2 id="sql语句分类"><a href="#sql语句分类" class="headerlink" title="sql语句分类"></a><strong>sql语句分类</strong></h2><pre><code>1.DQL语言：多用于查询
2.DML语言：增删改
3.DDL语言：数据库管理
4.TCL语言：事务控制</code></pre><h2 id="DQL语言学习"><a href="#DQL语言学习" class="headerlink" title="DQL语言学习"></a><strong>DQL语言学习</strong></h2><pre><code>基础查询
条件查询
排序查询
常见函数
分组函数
分组查询
连接查询
子查询
分页查询
union联合查询</code></pre><h2 id="进阶1：基础查询"><a href="#进阶1：基础查询" class="headerlink" title="进阶1：基础查询"></a><strong>进阶1：基础查询</strong></h2><pre><code>1、语法：select 查询列表 from 表名;
类似于java中的System.out.println();语句
注：
- 查询列表可以是字段名、常量值、表达式、函数
- 查询出来的结果是存储在一个虚拟的表格中，不是直接存储在硬盘中的俄，若需要存储到硬盘中可使用mysql可视化工具的导出功能</code></pre><h3 id="基础查询中经常使用到的语句"><a href="#基础查询中经常使用到的语句" class="headerlink" title="基础查询中经常使用到的语句"></a><strong>基础查询中经常使用到的语句</strong></h3><pre><code>1、查询表中的单个字段：
select 字段名 from 表名；
例：查询员工表中所有人的姓
select last_name from employees;
2、查询表中的多个字段
select 字段1,字段2,字段3 from 表名;
注：查询多个字段时。字段之间用英文逗号隔开
3、查询表中所有数据即查询表中所有字段
select * from 表名;
4、查询常量值
在前面提到select关键字后的查询列表中可以是常量值
select 100；这种查出来的字段名和结果都为100
5、查询表达式
和查询常量值一样，我们可以使用select关键字结合表达式进行使用
例：select 100%98;这种查询出来的字段为表达式，结果为表达式计算后的结果
6、查询函数
在mysql中会有许多函数方便我们使用优化查询速度，例如：IFNULL（）;version();concat();
select version();这是查询当前mysql的版本。
7、起别名
在以后的数据库使用中我们会查询大量的数据，就会出现很多字段会让我们不易阅读，起别名就是将查询的数据中的字段名修改为我们容易理解的文字，但并不改变数据库中的原始数据
特点：
- 提高可读性
- 如果查询的数据中有重名的情况，使用别名可以区分开
方式一：
select last_name AS 名 from employees;
使用AS关键字

方式二：
select last_name 姓 from employee;
使用空格的方式
注意：如果别名中有特殊符号要用英文单引号引起来
例:select last_name as &apos;out p&apos; from employees;

8、去重
在查询大量数据时会出现很多重复的数据，但我们不想要这么多数据只想要不重复的数据这是就可以用到&apos;DISTINCT&apos;关键字
例：查询员工表中涉及的部门编号；
select department_id from employees;
会出现以下数据

![](https://i.imgur.com/TTtJUCA.png)
使用DISTINCT关键字去重后的数据
select DISTINCT department_id from employees;
![](https://i.imgur.com/CDGEEGG.png)

9、+号作用
在java中加号的作用
- 做运算符使用，99+100；
- 连接符，将两个字符连接到一起
但在mysql中+号只有一种功能：运算符
select 100+90；
结果为90；当两个操作数都是数值型时做加法运算
select &apos;123&apos;+90
结果为213；当一方为字符型时，会将字符型装换为数值型进行加法运算，如果转换失败则将字符型数值转换为0；
select NULL+90；只要其中一方为null则结果都为null;

10、concat()函数；
concat()函数的作用是将两个字段连接成一个字段
语法：select CONCAT(字段1，字段2) from 表名；
案例：
查询员工姓和名连接成一个字段，并显示为姓名使用
select concat(last_name,first_name) AS 姓名 from employees;

11、IFNULL()函数
IFNULL()函数是判断字段内容是否为null,将为null的内容替换为其他内容
语法：IFNULL(需要判断的字段，为null时显示的内容)；
案例：查询employees表中所有字段，各字段之间有逗号隔开，列头显示为out_put

SELECT
CONCAT(
employee_id,
&apos;,&apos;,
first_name,
&apos;,&apos;,
last_name,
&apos;,&apos;,
email,
&apos;,&apos;,
job_id,
&apos;,&apos;,
IFNULL( commission_pct, 0 ) 
) AS &apos;out_put&apos; 
FROM
employees

结果如下:
![](https://i.imgur.com/yhl2WD3.png)</code></pre><h2 id="进阶2：条件查询"><a href="#进阶2：条件查询" class="headerlink" title="进阶2：条件查询"></a><strong>进阶2：条件查询</strong></h2><pre><code>1、语法
    select 查询列表 from 表名 where 筛选条件
条件查询的读写顺序并不是我们的书写顺序，顺序是先执行from 表名然后执行where 筛选条件最后执行查询列表再产生结果</code></pre><h2 id="条件查询分类"><a href="#条件查询分类" class="headerlink" title="条件查询分类"></a><strong>条件查询分类</strong></h2><pre><code>一、按条件表达式筛选
条件表达式其实就是指的条件运算符，常用的条件运算符有一下几个：
&gt;、&lt;、&gt;=、&lt;=、=、!=、&lt;&gt;(也是不等于等价于!=)
案例：
查询工资大于12000的员工信息
select * from employee where salary&gt;=12000;
查询部门编号不等于90的员工名和部门编号
select last_name，department_id from employee where
department_id != 90;
select last_name,department_id from employee where 
department_id &lt;&gt; 90；

二、按逻辑表达式筛选
逻辑表达式和条件表达式一样就是使用逻辑运算符，常用的逻辑运算符有：
&amp;&amp;、||、!
and or not
案例：
查询工资在10000到20000之间的员工名、工资以及奖金
select  last_name,salary,commission_pct from
employees where salary &gt;= 10000 and salary &lt;= 20000;
案例：
查询部门编号不是在90到110之间的或者工资高于15000的员工信息
select * from employees where department_id &lt;&gt; 90 and department_id &lt;&gt; 110 or salary &gt;15000;

三、模糊查询
模糊查询的意思就是在筛选条件不明确的情况下根据关键词进行查询常使用的模糊查询命令有:
like、between and、in、is null、is not null

案例：
查询员工姓名中包含字符a的员工信息
select * from employees where last_name like &apos;%a%&apos;;
特例:查询员工名中第三个字符为e，第五个字符为a的员工名和工资
注：在此查询中不能再使用“like”关键字进行查询，因为1、like关键字查询是对于数据进行一个大范围的查询，并不能定位到具体字符，此次查询我们需要用到通配符&quot;_&quot;;
select last_name,salary from employees where last_name &apos;__e_a&apos;；
但当我们想查的数据中遇到带有_的字符如果还是使用_就会使系统分辨不出从而导致查不出来数据，此时我们可以使用转义字符
案例：查询员工名中第二个字符为下划线的员工名
select last_name from employees where last_name &apos;_\_%&apos;;同时我们也可以用ESCAPE定义转义字符
2、between and
特点：使用between and可提高语句简洁度等价于&gt;= and &lt;=同时使用
案例
查询员工编号在100到120之间的员工信息
select * from employees where employee_id between 100 and 120;
3、in 
作用:用于判断某字段的值是否属于in列表中的一项
可以提高语句的简洁度
案例：
查询员工的工种编号是IT_PROG、AD_VP、AD_pres中的一个员工名和工种编号
select last_name,job_id where job_id in(IT_PROG,AD_VP,AD_PRES);
4、is null、is not null
在mysql中查询某字段的数据为空时不能使用预算符=,只能使用is null
案例：
查询没有奖金的员工名和奖金率
select  last_name,commission_pct from  employees where commission_pct is null;</code></pre><h2 id="复习"><a href="#复习" class="headerlink" title="复习"></a><strong>复习</strong></h2><pre><code>案例1：
查询工资大于12000的员工姓名和工资
select concat(last_name,first_name) as 姓名,salary from employees;
案例2：
查询员工号为176的员工姓名和部门号和年薪
select concat(last_name,first_name) as 姓名, department_id,salary*12 from employees;
案例3：
查询工资不在5000到12000的员工姓名和工资
select concat(last_name,first_name) as 姓名,salary from employees where salary &gt;=5000 and salary &lt;=12000;
案例4：
查询在20号或者50号的部门工作的员工姓名和工资
select concat(last_name,first_name)    as 姓名,salary where department_id =50 or department_id =50;
案例5：
查询没有奖金且工资小于18000的员工姓名和工资
select concat(last_name,first_name) as 姓名,salary where commission_pct is null and salary &lt; 18000;
案例6：
查询员工表中，job_id不为IT或者工资为12000的员工信息
select * from empolyees where job_id &lt;&gt;  &apos;IT&apos; or salary =-12000;
案例7：
查看部门表结构
desc departments；
案例7：
查询部门表中涉及到的位置编号
select distinct locatin_id from departments;
案例8：
select * from employess；与select * from where commission_pct like &apos;%%&apos; and last_name like &apos;%%&apos;结果是否一样</code></pre><h2 id="进阶3：排序查询"><a href="#进阶3：排序查询" class="headerlink" title="进阶3：排序查询"></a><strong>进阶3：排序查询</strong></h2><pre><code>1.语法：
select 查询列表 from 表名 where 筛选条件 order by 需要排序的字段名 desc/asc
order by 语句中可以放表达式、函数、别名多个字段、单个字段
一般放在查询语句的最后面，limit语句除外
案例：查询员工工资从高到底排序
select * from employees order by salary desc
select * from employees order by salary asc
注意： desc为降序，asc为升序
案例2：查询部门编号大于等于90的员工信息按入职时间的先后进行排序
select * from employees where department_id &gt;=90 order by hirdate asc;
案例3：【按表达式排序】，按员工的年薪高低查询员工信息
方式一：select *,salary*12+(1+ifnull(commission,0)) as 年薪fron employees order by 年薪 desc;
方式二：select * from employees order by salary*12+(1+ifnull(commission,0)) desc
案例5：按姓名长度排序显示员工的姓名和工资【按函数进行排序】
方式一：select concat(last_name,first_name) as 姓名,salary from employees order by length(姓名) desc;
方式二：select concat(last_name,first_name) as 姓名,salary,length(concat(last_name,first_name)) as 字节数 from employees order by 字节数 desc
案例6：查询员工信息先按工资排序再按员工编号排序【按多个字段进行排序】
select * from employees order by salary asc,employees_id desc; 
注意：其排序顺序是先怼工资进行排序然后在工资相同是在对员工编号进行排序
案例7：查询员工姓名和部门编号和年薪，按年薪进行降序，按姓名进行升序
select concat(last_name,first_name) as 姓名,department_id as 部门编号,salary*12+(1+ifnull(commission,o)) as 年薪 from order by 年薪 desc,lengh(姓名) asc;
案例8：查询工资不在8000到17000的员工姓名和工资，按工资降序
方式一：
select concat(last_name,first_name) as 姓名,salary as 工资 from employees where salary not between 8000 and 17000 order by salary desc;
方式二：select concat(last_name,first_name) as 姓名,salary as 工资 from employees where salary not in (8000,17000) order by salary desc;
案例9:查询邮箱中包含e的员工信息，并先按邮箱字节数进行降序排序然后再按部门编号进行升序排序
select *,length(email) as 字节数 from employees where email like&apos;%e%&apos; order by 字节数 desc,department_id asc;</code></pre><h2 id="进阶4常见函数"><a href="#进阶4常见函数" class="headerlink" title="进阶4常见函数"></a><strong>进阶4常见函数</strong></h2><pre><code>1.概念：类似于java中的方法，将一组逻辑语句封装在方法中进行调用

2.语法：select 函数名（实参列表） from 表名
3.分类：
单行函数：concat(),lenght(),ifnull()，upper()，lower（）等；
4.常见函数
字符函数：length、concat、substr、instr、trim、uooer、lower、lpad、rpad、replace
数学函数：round、ceil、floor、truncate、mode
日期函数：now、curdate、curtime、year、month、monthname、day、hour、minute、second、str_to_date、date_format
其他函数：version、databases、user
流程控制函数：if、case when then else end</code></pre><h3 id="大小写转换函数"><a href="#大小写转换函数" class="headerlink" title="大小写转换函数"></a>大小写转换函数</h3><pre><code>案例：将姓大写名小写然后拼接
select concat(upper(last_name),lower(first_name)) from employees;
注意：upper是转换为大写，lower是转换为小写</code></pre><p>###substr()函数：截取指定索引处指定长度的字符###<br>    案例：姓名中首字母大写其他字母小写然后用<em>拼接<br>    select concat(upper(substr(last_name,1,1)),’</em>‘,lower(substr(last_name,2))) from employees;</p>
<p>###instr()函数：用于返回字符第一次出现的索引若找不到返回0<br>###trim()函数：主要作用是去掉数据中的空格或去掉数据中的部分内容<br>    去掉空格语法：select trim(‘   111  ‘);<br>    去掉数据中的部分内容语法:select trim(‘要去掉的内容’ from ‘数据’)；<br>###LPAD()函数：实现指定字符内容的左填充指定的长度<br>###PPAD()函数：实现指定字符内容的右填充指定的长度<br>###Reolace()函数：替换内容函数<br>    案例<br>    select replace(‘张无忌爱上周芷若’,’周芷若’,’张敏’)<br>    语法：replace（原有内容,要被替换掉的内容,替换的内容）</p>
<pre><code>分组函数：做统计使用又称聚合函数、组函数
字符函数</code></pre><h2 id="数学函数"><a href="#数学函数" class="headerlink" title="数学函数"></a><strong>数学函数</strong></h2><pre><code>round():四舍五入函数
案例：
SELECT ROUND(1.59)
结果为：2
select round(1.567,2)为保留两位小数的值
结果为：1.57
CEIL函数：为向上取整返回大于等于该参数的最大整数
案例：
select CEIL(1.57)结果为：2
FLOOR()向下取整，返回小于等于该参数的最大整数
TRUNCATE(X,D)截断X为数值的为要保留的位数
mode取余</code></pre><h2 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a><strong>日期函数</strong></h2><pre><code>NOW（）函数，返回系统当前的日期加时间
CURDATE()返回当前系统的日期
CURTIME()返回当前系统的时间</code></pre><h2 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a><strong>其他函数</strong></h2><pre><code>select version()，查看当前版本</code></pre><h2 id="流程控制函数"><a href="#流程控制函数" class="headerlink" title="流程控制函数"></a><strong>流程控制函数</strong></h2><pre><code>if函数：if..else效果
select if(10&lt;5,&apos;da&apos;,&apos;xiao&apos;);
案例
判断员工是否有奖金
select last_name, if(commission_pct is null,&apos;有&apos;,&apos;没&apos;) from employess;</code></pre><h2 id="case函数"><a href="#case函数" class="headerlink" title="case函数"></a>case函数</h2><pre><code>方式一：
switch case的效果
 在java中的用法：
switch（表达式）{
case 常量1：语句；break;
}
mysql中
case 要判断的字段或者表达式
when 常量1 then 要显示的值1或语句1
when 常量2 then 要显示的值2或语句2
。。。。。
elsen 要显示的值n或语句n
end
 案例：查询员工的工资，要求部门号为40 显示的工资为1.1倍
部门号为50，显示的工资为1。2倍
部门号为60，显示的工资为1.3倍
select salary as 原始工资,case department_id 
when 40 then salary*1.1
when 50 then salary* 1/2
when 60 then salary*1.3
else salary
end as 新工资 from employess
case方式二：
case when 条件2 then 要显示的值1或语句1
when 条件2 then 要显示的值2或语句2
。。。
else 要显示的语句n
end
案例：查询员工的工资情况，如果工资大于20000显示A，大于15000显示B，大于10000显示为C，否则显示为D
select last_name,case when salary&gt;=2000 then &apos;A&apos;
when salary&gt;=15000 then &apos;B&apos;
when salary&gt;=10000 then &apos;C&apos;
else D
end as 工资级别 from employees</code></pre><h3 id="函数案例"><a href="#函数案例" class="headerlink" title="函数案例"></a>函数案例</h3><pre><code>案例1：显示系统时间
select now();
案例2：查询员工号、姓名、工资、以及工资提高20%后的结果；
select employee_id as 员工号,last_name 姓名,salary 原始工资,salary*1.2 as 新工资 
from employees</code></pre><h3 id="分组函数"><a href="#分组函数" class="headerlink" title="分组函数"></a>分组函数</h3><pre><code>功能：用于统计，又称聚合函数、组函数或统计函数。</code></pre><h5 id="常见分组函数"><a href="#常见分组函数" class="headerlink" title="常见分组函数"></a>常见分组函数</h5><pre><code>sum（）函数：求和函数
avg()函数：求平均值函数
max()函数：求最大值
min()函数：求最小值
count()函数：统计函数用于统计行数或个数</code></pre><h5 id="分组函数的简单使用"><a href="#分组函数的简单使用" class="headerlink" title="分组函数的简单使用"></a>分组函数的简单使用</h5><pre><code>案例1：查询工资总和
select sum(salary) from employees;
查询所有工资的平均值
select avg(salary) from employees;
查询员工中的最大工资
select max(salary) from employees;
查询员工中的最小工资
select min(salary) from employees;
查询员工总数
select count(1) from employees;</code></pre><h5 id="分组函数中的参数支持那种类型"><a href="#分组函数中的参数支持那种类型" class="headerlink" title="分组函数中的参数支持那种类型"></a>分组函数中的参数支持那种类型</h5><pre><code>sum、avg只支持数值型
max、min、count可以处理任何类型</code></pre><p>#####分组函数是否在计算中是否忽略null值<br>    sum、avg、max、min都忽略了null值<br>    count计算非空值的个数<br>#####分组函数可以和distinct搭配使用<br>    案例：select sum(distinct salary) from employees;<br>#####count()函数的详细介绍<br>    count()中可以加字段统计某列不为空的个数<br>    count()中加上<em>可查询表中所有行数<br>    count(1)查询表中所有行数<br>    效率问题：<br>    在myisan存储引擎下，count(</em>)效率最高<br>    在innodb引擎下，count(1)和count(*)效率一样和分组函数一同查询的字段要求是group By后的字段</p>
<h5 id="分组函数案例"><a href="#分组函数案例" class="headerlink" title="分组函数案例"></a>分组函数案例</h5><pre><code>查询公司员工工资的最大值、最小值、平均值、总和
select max(salary),min(salary),avg(salary),sum(salary) from employees;
查询员工最大入职时间和最小入职时间相差的天数
（天数计算中需要用到datediff函数计算）
select max(hiredate) as 最大入职时间,min(hiredate) as 最小入职时间,datediff(max(hiredate),min(hiredate)) 相差天数 from employees；
查询部门编号为90的员工个数
select count(1),department_id form employees where department_id=90 </code></pre><h2 id="进阶5分组查询"><a href="#进阶5分组查询" class="headerlink" title="进阶5分组查询"></a><strong>进阶5分组查询</strong></h2><pre><code>一、分组查询中筛选条件分为两种
1、分组前查询 位于group by语句前 关键字为where 数据源为原始表
2、分组后查询 位于group by语句后 关键字为having 数据源为分组后的结果集
二、语法：
select 分组函数,列（要求出现在group by语句后） from 表名 where 筛选条件 group by 分组条件 order by 排序条件
案例：
查询每个位置上的部门个数
select count(*),location_id from departments group by location_id;</code></pre><p>#####添加筛选条件的分组查询<br>    查询邮箱中包含a字符的每个部门的平均工资<br>    select avg(salary),department_id from employees where email like ‘%a%’ group by department_id<br>    查询有奖金的每个领导手下员工的最高工资<br>    select max(salary),manager_id from employees where commission is not null group by manager_id<br>    查询那个部门的员工个数大于2<br>    select count(1),department_id from employees group by departmnet_id having count(1)&gt;2<br>    查询每个工种有奖金的员工的最高工资大于12000的工种编号和最高工资<br>    select max(salary),job_id from employees where commission in not null group by job_id having max(salary)&gt;12000<br>    查询领导编号大于102的每个领导手下最低工资大于5000的<br>    select min(salary),manager_id from employees where manager_id&gt;102 having min(salary)&gt;5000</p>
<p>#####按表达式或函数进行分组<br>    案例1：按员工姓名长度分组，查询每一组员工的个数，筛选员工个数大于5的有哪些<br>    select count(1) as 人数,length(last_name) as 长度 from employees group by 长度 having 人数&gt;5<br>#####按多个字段进行分组<br>    案例：查询每个部门每个工种的员工的平均工资<br>    select avg(salary),department_id,job_id from employees group by<br>    department_id,job_id;<br>#####分组查询添加排序<br>    案例：查询每个部门每个工种的员工的平均工资，并且按平均工资的高低进行显示<br>    select avg(salary)，department_id,job_id from employees;<br>#####分组查询总结<br>    1、group by 支持单个字段分组多个字段分组，但多个字段之间要用逗号分隔开<br>    2、可以对分组查询添加排序查询<br>#####分组查询练习<br>    案例：查询各个工种的员工的工资最大值、最小值、平均值、总和并按job_id排序<br>    select max(salary),min(salary),avg(salary),sum(salary),job_id from employees group by job_id order by job_id desc<br>    案例：查询员工最高工资和最低工资之间的差距<br>    select max(salary)-min(salary) as 差距 from employees;<br>    案例：查询各个管理者手下员工的最低工资、其中最低工资不能低于6000，没有管理者的不计算在内<br>    select min(salary) as 最低工资,manager_id  from employees where manager_id is not null having min(salary) &gt;6000<br>    案例查询所有部门的编号、员工数量和工资平均值并按平均工资进行排序<br>    select count(1),avg(salary),department_id from employees group by departmnet_id order by abg(salary) desc<br>    案例：查询各个部门的员工人数<br>    select count(1),job_id from employees group by job_id<br>##进阶6连接查询<br>    含义：又称多表查询，当查询的字段位于其他表中时常用到多表查询<br>    笛卡尔乘积现象：表1 有m行 表2 有n行 结果等于m*n<br>    连接查询的分类：<br>    按年代分：<br>        sql92标准：<br>            在mysql中只支持内连接<br>        sql99标准：<br>            在mysql中支持所有内连接、左外连接、右外连接、交叉连接<br>    按功能分类：<br>        内连接：等值连接、非等值连接、自连接<br>        外连接：左外连接、右外连接、全连接<br>        交叉连接    </p>
<h2 id="一、sql92标准"><a href="#一、sql92标准" class="headerlink" title="一、sql92标准"></a><strong>一、sql92标准</strong></h2><pre><code>等值连接
案例查询女神名和对应的男生
select name,boyname from gril as a,boy as b where a.boy_id=b.boyfriend_id;
查询员工名和对应的部门名
select last_name,department_name from employees as a,departments as b  where a.department_id=b.department_id
查询工种号、工名、工种名
select last_name,a.job_id,job_title from employees as a,jobs as b where a.job_id=job_id 
非等值连接</code></pre><h2 id="二、sql99语法"><a href="#二、sql99语法" class="headerlink" title="二、sql99语法"></a><strong>二、sql99语法</strong></h2><pre><code>1、内连接
语法：select 查询列表 from 表名 别名 inner join 表名2 别名 On 连接条件
where 筛选条件
group by 分组列表
having 分组后筛选
order by 排序条件
sql92和sql99的区别
sql99，使用join关键字代替了之前的逗号，并且将连接条件和筛选条件进行了分离
案例；查询员工名和部门名
select last_name,department_name from employees e inner join departments d on e.departmnet_id=d.department_id</code></pre></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">caspar</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/03/08/MYSQL%E7%B3%BB%E5%88%97%E4%B8%80/">http://yoursite.com/2020/03/08/MYSQL%E7%B3%BB%E5%88%97%E4%B8%80/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com">归宿|观塘礼</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/sql/">sql    </a></div><div class="post_share"><div class="social-share" data-image="/img/2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/03/08/Hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"><img class="prev_cover lazyload" data-src="/img/hexo.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>Hexo+github搭建个人博客</span></div></a></div><div class="next-post pull_right"><a href="/2020/03/07/hello-world/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>Hello World</span></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = false == true ? true : false;
var verify = false == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'rvMQpA15oxBhoLAKbunhSWuD-gzGzoHsz',
  appKey:'I3Gg0hv11XMhPfQkcVRj86vH',
  placeholder:'Please leave your footprints',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By caspar</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/calendar.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="ribbon" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="false"></script><script id="ribbon_piao" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/piao.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/click_heart.js"></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/ClickShowText.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>